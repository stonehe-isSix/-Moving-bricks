# 事件委托

#### 一、javaScript事件委托（事件代理）

>（1）概念：事件委托就是利用事件冒泡原理，只指定一个事件处理程序，就可以管理某一类型的所有事件。
举例：有三个同事预计会在周一收到快递。为签收快递，有两种办法：一是三个人在公司门口等快递；二是委托给前台代为签收。现实当中，我们大都采用委托的方案。前台收到快递后，她会判断收件人是谁，然后按照收件人的要求签收，甚至代为付款。这种方案还有一个优势，那就是即使公司里来了新员工（不管多少），前台也会在收到寄给新员工的快递后核实并代为签收。

>（2）事件委托原理：利用事件的冒泡原理实现，从事件的最深节点开始，然后逐步的向上传播事件。
例如：页面上有这么一个节点树，div>ul>li>a;比如给最里面的a加一个click点击事件，那么这个事件就会一层一层的往外执行，执行顺序a>li>ul>div，有这样一个机制，那么我们给最外面的div加点击事件，那么里面的ul，li，a做点击事件的时候，都会冒泡到最外层的div上，所以都会触发，这就是事件委托，委托它们父级代为执行事件。

>（3）事件委托的优点：
可以大量节省内存占用，减少事件注册。可以方便地动态添加和修改元素，不需要因为元素的改动而修改事件绑定。JavaScript和DOM节点之间的关联变少了，这样也就减少了因循环引用而带来的内存泄漏发生的概率。

>（4）事件委托的缺点：
不是所有的事件都能冒泡的。blur、focus、load和unload不能像其它事件一样冒泡。事实上blur和focus可以用事件捕获而非事件冒泡的方法获得（在IE之外的其它浏览器中）。在管理鼠标事件的时候有些需要注意的地方。如果你的代码处理mousemove事件的话你遇上性能瓶颈的风险可就大了，因为mousemove事件触发非常频繁。而mouseout则因为其怪异的表现而变得很难用事件代理来管理。

#### 二、jQuery事件委托实现方法

>（1）live()=>die()                                          live()支持jquery1.8-

live方法为被选中的元素附加一个或者多个事件处理程序，并规定运行的函数。通过live()方法附加的事件处理程序用于匹配未来的元素，即新添加的元素也会添加上这个事件处理程序。

![](https://ooo.0o0.ooo/2017/03/26/58d7260b55756.png)

>（2）deletage()=>undeletage()                     delegate()支持jquery1.4.2+

deletage方法是为指定的元素添加一个或多个事件处理程序，并规定当这些事件发生时运行的函数。使用deletage方法是适用于当前或未来的元素和live一样，即对新添加上的元素也会添加上事件处理程序。

![](https://ooo.0o0.ooo/2017/03/26/58d7260b95559.png)

>（3）on()=>off()

on方法是为指定的元素添加一个或多个事件处理程序，并规定当这些事件发生时运行的函数。使用on方法是适用于当前或未来的元素和deletage、live一样，即对新添加上的元素也会添加上事件处理程序。

![](https://ooo.0o0.ooo/2017/03/26/58d7260b96748.png)

>（4）bind()=>unbind()                          bind()支持jQuery所有版本

bind()方法为被选中的元素附加上一个或多个事件处理程序，并规定事件发生时运行的函数。但是bind和上诉三个方法有区别，就是bind对新添加的元素是不会添加上已经添加的事件处理程序，需要自己手动的在添加上。

![](https://ooo.0o0.ooo/2017/03/26/58d7260b94bce.png)

>（5）one()                                           on()支持jQuery1.7+

One方法为被选中的附加一个或多个事件处理程序，并规定当事件发生时执行的函数，当使用one()方法的时候，每个元素只能执行一次事件处理器函数

![](https://ooo.0o0.ooo/2017/03/26/58d7260bb1741.png)

总结：live、deletage、on、bind这个四个jQuery委托事件，都是为被选中的元素附加上一个或多个事件处理程序。但是bind对新添加的元素是不会添加上已经添加的事件处理程序，需要自己手动的在添加上，其他三个方法都是对新添加上的元素也会添加上事件处理程序。并实现了one方法对于一次执行的事件处理程序提供了方便。在使用方面bind()函数在jQuery1.7版本之前官方是比较推崇的，但是在1.7之后官方推荐使用on()函数，同样也可以使用live替代，但是live()函数在jQuery1.9版本已经删除。deletage()函数方法相对于live和bind方法在执行速度，灵活性和CSS选择器支持方面比较好一些。如果项目中引用jquery版本为低版本，推荐用delegate(),高版本jquery可以使用on()来代替，以上仅为个人看法。
